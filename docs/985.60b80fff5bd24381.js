"use strict";(self.webpackChunksenac_frontend_202x=self.webpackChunksenac_frontend_202x||[]).push([[985],{6985:(J,d,c)=>{c.r(d),c.d(d,{CartasModule:()=>U});var u=c(9808),g=c(5358);class m extends class h{}{}var C=c(5226),s=c.n(C),e=c(1223),A=c(520);let p=(()=>{class r{constructor(t){this.httpClient=t,this.API="http://localhost:8080/senac-20241-backend-exemplos/rest/restrito/carta"}salvar(t){return this.httpClient.post(this.API,t)}atualizar(t){return this.httpClient.put(this.API,t)}excluir(t){return this.httpClient.delete(this.API+"/"+t)}consultar(t){return this.httpClient.get(this.API+"/"+t)}listarComSeletor(t){return this.httpClient.post(this.API+"/filtrar",t)}contarTotalRegistros(t){return this.httpClient.post(this.API+"/contar",t)}contarPaginas(t){return this.httpClient.post(this.API+"/total-paginas",t)}listarTodas(){return this.httpClient.get(this.API+"/todas")}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(A.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var o=c(2382);function T(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"li",40),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.oxw().irParaPagina(n)}),e.TgZ(1,"button",41),e._uU(2),e.qZA(),e.qZA()}if(2&r){const t=l.$implicit;e.xp6(2),e.Oqu(t)}}function f(r,l){if(1&r){const t=e.EpF();e.TgZ(0,"tr",42),e.TgZ(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td",38),e._uU(4),e.qZA(),e.TgZ(5,"td",38),e._uU(6),e.qZA(),e.TgZ(7,"td",38),e._uU(8),e.qZA(),e.TgZ(9,"td",38),e._uU(10),e.ALo(11,"date"),e.qZA(),e.TgZ(12,"td",38),e.TgZ(13,"button",43),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.oxw().editar(n.id)}),e._UZ(14,"i",44),e._uU(15," Editar "),e.qZA(),e._uU(16," \xa0 "),e.TgZ(17,"button",45),e.NdJ("click",function(){const n=e.CHM(t).$implicit;return e.oxw().excluir(n)}),e._UZ(18,"i",46),e._uU(19," Excluir "),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=l.$implicit;e.xp6(2),e.Oqu(t.nome),e.xp6(2),e.Oqu(t.forca),e.xp6(2),e.Oqu(t.velocidade),e.xp6(2),e.Oqu(t.inteligencia),e.xp6(2),e.Oqu(e.xi3(11,5,t.dataCadastro,"dd/MM/yyyy"))}}let q=(()=>{class r{constructor(t,a){this.cartaService=t,this.router=a,this.cartas=[],this.seletor=new m,this.totalPaginas=0,this.TAMANHO_PAGINA=3}ngOnInit(){this.seletor.limite=this.TAMANHO_PAGINA,this.seletor.pagina=1,this.pesquisar(),this.contarPaginas()}pesquisar(){this.cartaService.listarComSeletor(this.seletor).subscribe(t=>{this.cartas=t},t=>{s().fire("Erro ao consultar cartas!",t.error.mensagem,"error")})}contarPaginas(){this.cartaService.contarPaginas(this.seletor).subscribe(t=>{this.totalPaginas=t},t=>{s().fire("Erro ao consultar total de p\xe1ginas",t.error.mensagem,"error")})}atualizarPaginacao(){this.contarPaginas(),this.pesquisar()}avancarPagina(){this.seletor.pagina++,this.pesquisar()}voltarPagina(){this.seletor.pagina--,this.pesquisar()}irParaPagina(t){this.seletor.pagina=t,this.pesquisar()}criarArrayPaginas(){return Array(this.totalPaginas).fill(0).map((t,a)=>a+1)}limpar(){this.seletor=new m,this.seletor.limite=this.TAMANHO_PAGINA,this.seletor.pagina=1}excluir(t){s().fire({title:"Deseja realmente excluir a carta?",text:"Essa a\xe7\xe3o n\xe3o poder\xe1 ser desfeita!",icon:"warning",showCancelButton:!0,confirmButtonText:"Sim, excluir!",cancelButtonText:"Cancelar"}).then(a=>{a.value&&this.cartaService.excluir(t.id).subscribe(i=>{this.pesquisar()},i=>{s().fire("Erro!","Erro ao excluir carta: "+i.error.mensagem,"error")})})}editar(t){this.router.navigate(["/cartas/detalhe/",t])}consultarTodasCartas(){this.cartaService.listarTodas().subscribe(t=>{this.cartas=t},t=>{s().fire("Erro ao consultar cartas!",t.error.mensagem,"error")})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(p),e.Y36(g.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-carta-listagem"]],decls:94,vars:12,consts:[[1,"container"],[1,"alert","alert-success"],[1,"card"],[1,"card-header","bg-info"],[1,"card-body"],[1,"row"],[1,"col-md-12"],["for","nome"],["type","text","id","nome","name","nome",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-md-3"],["for","forcaMinima"],["type","number","id","forcaMinima","name","forcaMinima",1,"form-control",3,"ngModel","ngModelChange"],["type","number","id","velocidadeMinima","name","velocidadeMinima",1,"form-control",3,"ngModel","ngModelChange"],["for","inteligenciaMinima"],["type","number","id","inteligenciaMinima","name","inteligenciaMinima",1,"form-control",3,"ngModel","ngModelChange"],["for","btnLimpar"],["type","button","name","btnLimpar",1,"form-control","btn","btn-warning",3,"click"],[1,"bi","bi-trash"],["for","forcaMaxima"],["type","number","name","forcaMaxima",1,"form-control",3,"ngModel","ngModelChange"],["for","velocidadeMaxima"],["type","number","name","velocidadeMaxima",1,"form-control",3,"ngModel","ngModelChange"],["for","inteligenciaMaxima"],["type","number","name","inteligenciaMaxima",1,"form-control",3,"ngModel","ngModelChange"],["for","btnPesquisar"],["type","button","name","btnPesquisar",1,"form-control","btn","btn-primary",3,"click"],[1,"bi","bi-search"],["for","quantidadeRegistros"],[1,"form-select",3,"ngModel","ngModelChange","change"],["value","3"],["value","6"],["value","20"],[1,"col-md-6"],[1,"pagination"],[1,"page-item"],[1,"page-link",3,"disabled","click"],["class","page-item",3,"click",4,"ngFor","ngForOf"],[1,"table","table-striped","border"],[1,"text-center"],["scope","row",4,"ngFor","ngForOf"],[1,"page-item",3,"click"],[1,"page-link"],["scope","row"],[1,"btn","btn-xs","btn-info","mr-12",3,"click"],[1,"bi","bi-pencil"],[1,"btn","btn-xs","btn-danger",3,"click"],[1,"bi","bi-x"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h3",1),e._uU(2,"Cartas dispon\xedveis para X1: "),e.qZA(),e.TgZ(3,"div",2),e.TgZ(4,"div",3),e.TgZ(5,"h5"),e._uU(6,"Filtros"),e.qZA(),e.qZA(),e.TgZ(7,"div",4),e.TgZ(8,"form"),e.TgZ(9,"div",5),e.TgZ(10,"div",6),e.TgZ(11,"label",7),e._uU(12,"Nome:"),e.qZA(),e.TgZ(13,"input",8),e.NdJ("ngModelChange",function(n){return a.seletor.nome=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",5),e.TgZ(15,"div",9),e.TgZ(16,"label",10),e._uU(17,"For\xe7a m\xednima:"),e.qZA(),e.TgZ(18,"input",11),e.NdJ("ngModelChange",function(n){return a.seletor.forcaMinima=n}),e.qZA(),e.qZA(),e.TgZ(19,"div",9),e.TgZ(20,"label",10),e._uU(21,"Velocidade m\xednima:"),e.qZA(),e.TgZ(22,"input",12),e.NdJ("ngModelChange",function(n){return a.seletor.velocidadeMinima=n}),e.qZA(),e.qZA(),e.TgZ(23,"div",9),e.TgZ(24,"label",13),e._uU(25,"Intelig\xeancia m\xednima:"),e.qZA(),e.TgZ(26,"input",14),e.NdJ("ngModelChange",function(n){return a.seletor.inteligenciaMinima=n}),e.qZA(),e.qZA(),e.TgZ(27,"div",9),e.TgZ(28,"label",15),e._uU(29,"\xa0"),e.qZA(),e.TgZ(30,"button",16),e.NdJ("click",function(){return a.limpar()}),e._UZ(31,"i",17),e._uU(32," Limpar "),e.qZA(),e.qZA(),e.qZA(),e.TgZ(33,"div",5),e.TgZ(34,"div",9),e.TgZ(35,"label",18),e._uU(36,"For\xe7a m\xe1xima:"),e.qZA(),e.TgZ(37,"input",19),e.NdJ("ngModelChange",function(n){return a.seletor.forcaMaxima=n}),e.qZA(),e.qZA(),e.TgZ(38,"div",9),e.TgZ(39,"label",20),e._uU(40,"Velocidade m\xe1xima:"),e.qZA(),e.TgZ(41,"input",21),e.NdJ("ngModelChange",function(n){return a.seletor.velocidadeMaxima=n}),e.qZA(),e.qZA(),e.TgZ(42,"div",9),e.TgZ(43,"label",22),e._uU(44,"Intelig\xeancia m\xe1xima:"),e.qZA(),e.TgZ(45,"input",23),e.NdJ("ngModelChange",function(n){return a.seletor.inteligenciaMaxima=n}),e.qZA(),e.qZA(),e.TgZ(46,"div",9),e.TgZ(47,"label",24),e._uU(48,"\xa0"),e.qZA(),e.TgZ(49,"button",25),e.NdJ("click",function(){return a.pesquisar()}),e._UZ(50,"i",26),e._uU(51,"Pesquisar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e._UZ(52,"br"),e._UZ(53,"br"),e.TgZ(54,"nav",5),e.TgZ(55,"div",9),e.TgZ(56,"label",27),e._uU(57,"Quantidade de registros por p\xe1gina:"),e.qZA(),e.TgZ(58,"select",28),e.NdJ("ngModelChange",function(n){return a.seletor.limite=n})("change",function(){return a.atualizarPaginacao()}),e.TgZ(59,"option",29),e._uU(60,"3"),e.qZA(),e.TgZ(61,"option",30),e._uU(62,"6"),e.qZA(),e.TgZ(63,"option",31),e._uU(64,"20"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(65,"div",32),e.TgZ(66,"label",27),e._uU(67,"\xa0"),e.qZA(),e.TgZ(68,"ul",33),e.TgZ(69,"li",34),e.TgZ(70,"button",35),e.NdJ("click",function(){return a.voltarPagina()}),e._uU(71,"Anterior"),e.qZA(),e.qZA(),e.YNc(72,T,3,1,"li",36),e.TgZ(73,"li",34),e.TgZ(74,"button",35),e.NdJ("click",function(){return a.avancarPagina()}),e._uU(75,"Pr\xf3xima"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(76,"div"),e.TgZ(77,"table",37),e.TgZ(78,"thead"),e.TgZ(79,"tr"),e.TgZ(80,"th"),e._uU(81,"Nome"),e.qZA(),e.TgZ(82,"th",38),e._uU(83,"For\xe7a"),e.qZA(),e.TgZ(84,"th",38),e._uU(85,"Velocidade"),e.qZA(),e.TgZ(86,"th",38),e._uU(87,"Intelig\xeancia"),e.qZA(),e.TgZ(88,"th",38),e._uU(89,"Cadastrada em:"),e.qZA(),e.TgZ(90,"th",38),e._uU(91,"A\xe7\xf5es"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(92,"tbody"),e.YNc(93,f,20,8,"tr",39),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(13),e.Q6J("ngModel",a.seletor.nome),e.xp6(5),e.Q6J("ngModel",a.seletor.forcaMinima),e.xp6(4),e.Q6J("ngModel",a.seletor.velocidadeMinima),e.xp6(4),e.Q6J("ngModel",a.seletor.inteligenciaMinima),e.xp6(11),e.Q6J("ngModel",a.seletor.forcaMaxima),e.xp6(4),e.Q6J("ngModel",a.seletor.velocidadeMaxima),e.xp6(4),e.Q6J("ngModel",a.seletor.inteligenciaMaxima),e.xp6(13),e.Q6J("ngModel",a.seletor.limite),e.xp6(12),e.Q6J("disabled",1==a.seletor.pagina),e.xp6(2),e.Q6J("ngForOf",a.criarArrayPaginas()),e.xp6(2),e.Q6J("disabled",a.seletor.pagina==a.totalPaginas),e.xp6(19),e.Q6J("ngForOf",a.cartas))},directives:[o._Y,o.JL,o.F,o.Fj,o.JJ,o.On,o.wV,o.EJ,o.YN,o.Kr,u.sg],pipes:[u.uU],styles:[""]}),r})();class b{}let Z=(()=>{class r{constructor(t,a,i){this.cartaService=t,this.router=a,this.route=i,this.carta=new b}ngOnInit(){this.route.params.subscribe(t=>{this.idCarta=t.id,this.idCarta&&this.buscarCarta()})}buscarCarta(){this.cartaService.consultar(this.idCarta).subscribe(t=>{this.carta=t},t=>{s().fire("Erro ao buscar a carta!",t,"error")})}salvar(){this.idCarta?this.atualizar():this.inserir()}inserir(){this.cartaService.salvar(this.carta).subscribe(t=>{s().fire("Carta salva com sucesso!","","success"),this.voltar()},t=>{s().fire("Erro ao salvar a carta: "+t.error.mensagem,"error")})}atualizar(){this.cartaService.atualizar(this.carta).subscribe(t=>{s().fire("Carta atualizada  com sucesso!","","success"),this.voltar()},t=>{s().fire("Erro ao atualizar a carta: "+t.error.mensagem,"error")})}voltar(){this.router.navigate(["/cartas"])}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(p),e.Y36(g.F0),e.Y36(g.gz))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-carta-detalhe"]],decls:41,vars:8,consts:[[1,"container"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"row"],[1,"form-group","col-md-12"],["for","nome"],["type","text","name","nome","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","col-md-4"],["for","forca"],["type","range","name","forca","min","1","max","5","required","",1,"form-range",3,"ngModel","ngModelChange"],["for","inteligencia"],["type","range","name","inteligencia","min","1","max","5","required","",1,"form-range",3,"ngModel","ngModelChange"],["for","velocidade"],["type","range","name","velocidade","min","1","max","5","required","",1,"form-range",3,"ngModel","ngModelChange"],[1,"form-group","col-md-6"],["type","submit",1,"form-control","btn","btn-warning",3,"click"],[1,"bi","bi-arrow-left"],["type","submit",1,"form-control","btn","btn-primary",3,"click"],[1,"bi","bi-check"]],template:function(t,a){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"form"),e.TgZ(2,"div",1),e.TgZ(3,"div",2),e.TgZ(4,"h3"),e._uU(5),e.qZA(),e.qZA(),e.TgZ(6,"div",3),e.TgZ(7,"div",4),e.TgZ(8,"div",5),e.TgZ(9,"label",6),e._uU(10,"Nome"),e.qZA(),e.TgZ(11,"input",7),e.NdJ("ngModelChange",function(n){return a.carta.nome=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(12,"div",4),e.TgZ(13,"div",8),e.TgZ(14,"label",9),e._uU(15,"For\xe7a"),e.qZA(),e._uU(16),e.TgZ(17,"input",10),e.NdJ("ngModelChange",function(n){return a.carta.forca=n}),e.qZA(),e.qZA(),e.TgZ(18,"div",8),e.TgZ(19,"label",11),e._uU(20,"Intelig\xeancia:"),e.qZA(),e._uU(21),e.TgZ(22,"input",12),e.NdJ("ngModelChange",function(n){return a.carta.inteligencia=n}),e.qZA(),e.qZA(),e.TgZ(23,"div",8),e.TgZ(24,"label",13),e._uU(25,"Velocidade: "),e.qZA(),e._uU(26),e.TgZ(27,"input",14),e.NdJ("ngModelChange",function(n){return a.carta.velocidade=n}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(28,"div",4),e.TgZ(29,"div",15),e.TgZ(30,"label"),e._uU(31,"\xa0"),e.qZA(),e.TgZ(32,"button",16),e.NdJ("click",function(){return a.voltar()}),e._UZ(33,"i",17),e._uU(34," Voltar "),e.qZA(),e.qZA(),e.TgZ(35,"div",15),e.TgZ(36,"label"),e._uU(37,"\xa0"),e.qZA(),e.TgZ(38,"button",18),e.NdJ("click",function(){return a.salvar()}),e._UZ(39,"i",19),e._uU(40," Salvar "),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(5),e.hij("",a.carta.id?"Edi\xe7\xe3o de":"Nova"," Carta"),e.xp6(6),e.Q6J("ngModel",a.carta.nome),e.xp6(5),e.hij(" ",a.carta.forca," "),e.xp6(1),e.Q6J("ngModel",a.carta.forca),e.xp6(4),e.hij(" ",a.carta.inteligencia," "),e.xp6(1),e.Q6J("ngModel",a.carta.inteligencia),e.xp6(4),e.hij(" ",a.carta.velocidade," "),e.xp6(1),e.Q6J("ngModel",a.carta.velocidade))},directives:[o._Y,o.JL,o.F,o.Fj,o.Q7,o.JJ,o.On,o.eT],styles:[""]}),r})();const M=[{path:"",component:q},{path:"detalhe",component:Z},{path:"detalhe/:id",component:Z}];let v=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[g.Bz.forChild(M)],g.Bz]}),r})(),U=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[u.ez,v,o.u5]]}),r})()}}]);